import{m as o}from"./chunk-JVRP57C3.js";var d=(()=>{let a=class a{constructor(){this.STORAGE_KEY="user_habits"}getHabits(){let i=localStorage.getItem(this.STORAGE_KEY);if(i)return JSON.parse(i);{let t=[{id:"default_water",title:"Drink Water",icon:"water",type:"regular",frequency:"daily",reward:"low",completed:!1,streak:0,history:[],associatedStat:"constitution",difficulty:"medium"}];return this.updateHabits(t),t}}addHabit(i){let t=this.getHabits();t.push(i),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}deleteHabit(i){let t=this.getHabits();t=t.filter(e=>e.id!==i),this.updateHabits(t)}updateHabits(i){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i))}completeHabit(i,t){let e=this.getHabits(),s=e.findIndex(n=>n.id===i);s>-1&&(e[s].completed=!0,e[s].streak++,e[s].history||(e[s].history=[]),e[s].history.push({date:new Date().toISOString(),mood:t}),this.updateHabits(e))}uncompleteHabit(i){let t=this.getHabits(),e=t.find(s=>s.id===i);e&&(e.completed=!1,e.streak>0&&e.streak--,this.updateHabits(t))}};a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o({token:a,factory:a.\u0275fac,providedIn:"root"});let r=a;return r})();export{d as a};
