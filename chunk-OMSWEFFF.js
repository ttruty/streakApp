import{m as r}from"./chunk-LUAGARXV.js";var h=(()=>{let a=class a{constructor(){this.STORAGE_KEY="user_habits"}getHabits(){let i=localStorage.getItem(this.STORAGE_KEY);return i?JSON.parse(i):[]}addHabit(i){let s=this.getHabits();s.push(i),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(s))}updateHabits(i){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i))}completeHabit(i,s){let t=this.getHabits(),e=t.findIndex(n=>n.id===i);e>-1&&(t[e].completed=!0,t[e].streak++,t[e].history||(t[e].history=[]),t[e].history.push({date:new Date().toISOString(),mood:s}),this.updateHabits(t))}uncompleteHabit(i){let s=this.getHabits(),t=s.find(e=>e.id===i);t&&(t.completed=!1,t.streak>0&&t.streak--,this.updateHabits(s))}};a.\u0275fac=function(s){return new(s||a)},a.\u0275prov=r({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();export{h as a};
