import{D as k,Ea as j,Fa as L,G as N,Ha as x,Ib as z,Ka as V,La as B,M as A,Ma as H,N as M,Q as _,R as U,S as F,a as w,b as E,d as u,f as p,g as y,h as l,i as f,j as d,jb as K,k as D,kb as G,lb as Z,m as C,o as P,p as S,q as m,r as R,v as I,va as W}from"./chunk-7WHQ53J5.js";import"./chunk-PGVWJ64G.js";import"./chunk-YG7LLWQI.js";import"./chunk-3ZMQLOZX.js";import"./chunk-QUPCUN75.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-663TVV7P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as O}from"./chunk-JHI3MBHO.js";var q=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-DB4FWWAJ.js").then(t=>t.HomePage)},{path:"tabs",loadComponent:()=>import("./chunk-GUH5SZQT.js").then(t=>t.TabsPage),children:[{path:"dashboard",loadComponent:()=>import("./chunk-4LL5N277.js").then(t=>t.DashboardPage)},{path:"create",loadComponent:()=>import("./chunk-OAOQAZVE.js").then(t=>t.CreateHabitPage)},{path:"inventory",loadComponent:()=>import("./chunk-IRER4DNN.js").then(t=>t.InventoryPage)},{path:"character",loadComponent:()=>import("./chunk-EFEEEUZK.js").then(t=>t.CharacterPage)},{path:"",redirectTo:"/tabs/dashboard",pathMatch:"full"}]},{path:"character",loadComponent:()=>import("./chunk-EFEEEUZK.js").then(t=>t.CharacterPage)},{path:"settings",loadComponent:()=>import("./chunk-VT7K7IRY.js").then(t=>t.SettingsPage)}];var Y=(()=>{let n=class n{constructor(){}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=N({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){e&1&&(_(0,"ion-app"),F(1,"ion-router-outlet"),U())},dependencies:[Z,G],encapsulation:2});let t=n;return t})();var T="Service workers are disabled or not supported by this browser",h=class{serviceWorker;worker;registration;events;constructor(n,o){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=new w(r=>r.error(new d(5601,!1)));else{let r=null,e=new E;this.worker=new w(a=>(r!==null&&a.next(r),e.subscribe(b=>a.next(b))));let i=()=>{let{controller:a}=n;a!==null&&(r=a,e.next(r))};n.addEventListener("controllerchange",i),i(),this.registration=this.worker.pipe(f(()=>n.getRegistration().then(a=>{if(!a)throw new d(5601,!1);return a})));let s=new E;this.events=s.asObservable();let c=a=>{let{data:b}=a;b?.type&&s.next(b)};n.addEventListener("message",c),o?.get(M,null,{optional:!0})?.onDestroy(()=>{n.removeEventListener("controllerchange",i),n.removeEventListener("message",c)})}}postMessage(n,o){return new Promise(r=>{this.worker.pipe(l(1)).subscribe(e=>{e.postMessage(O({action:n},o)),r()})})}postMessageWithOperation(n,o,r){let e=this.waitForOperationCompleted(r),i=this.postMessage(n,o);return Promise.all([i,e]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let o;return typeof n=="string"?o=r=>r.type===n:o=r=>n.includes(r.type),this.events.pipe(y(o))}nextEventOfType(n){return this.eventsOfType(n).pipe(l(1))}waitForOperationCompleted(n){return new Promise((o,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(y(e=>e.nonce===n),l(1),u(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).subscribe({next:o,error:r})})}get isEnabled(){return!!this.serviceWorker}},ee=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new E;constructor(o){if(this.sw=o,!o.isEnabled){this.messages=p,this.notificationClicks=p,this.notificationCloses=p,this.pushSubscriptionChanges=p,this.subscription=p;return}this.messages=this.sw.eventsOfType("PUSH").pipe(u(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(u(e=>e.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(u(e=>e.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(u(e=>e.data)),this.pushManager=this.sw.registration.pipe(u(e=>e.pushManager));let r=this.pushManager.pipe(f(e=>e.getSubscription()));this.subscription=new w(e=>{let i=r.subscribe(e),s=this.subscriptionChanges.subscribe(e);return()=>{i.unsubscribe(),s.unsubscribe()}})}requestSubscription(o){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(T));let r={userVisibleOnly:!0},e=this.decodeBase64(o.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(e.length));for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return r.applicationServerKey=i,new Promise((s,c)=>{this.pushManager.pipe(f(g=>g.subscribe(r)),l(1)).subscribe({next:g=>{this.subscriptionChanges.next(g),s(g)},error:c})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));let o=r=>{if(r===null)throw new d(5602,!1);return r.unsubscribe().then(e=>{if(!e)throw new d(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,e)=>{this.subscription.pipe(l(1),f(o)).subscribe({next:r,error:e})})}decodeBase64(o){return atob(o)}static \u0275fac=function(r){return new(r||t)(S(h))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),te=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(o){if(this.sw=o,!o.isEnabled){this.versionUpdates=p,this.unrecoverable=p;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let o=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:o},o).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new d(5601,!1));let o=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:o},o)}static \u0275fac=function(r){return new(r||t)(S(h))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})();var J=new P("");function re(){let t=m(v);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let n=m(J),o=m(k),r=m(M);o.runOutsideAngular(()=>{let e=navigator.serviceWorker,i=()=>e.controller?.postMessage({action:"INITIALIZE"});e.addEventListener("controllerchange",i),r.onDestroy(()=>{e.removeEventListener("controllerchange",i)})}),o.runOutsideAngular(()=>{let e,{registrationStrategy:i}=t;if(typeof i=="function")e=new Promise(s=>i().subscribe(()=>s()));else{let[s,...c]=(i||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":e=Promise.resolve();break;case"registerWithDelay":e=$(+c[0]||0);break;case"registerWhenStable":e=Promise.race([r.whenStable(),$(+c[0])]);break;default:throw new d(5600,!1)}}e.then(()=>{r.destroyed||navigator.serviceWorker.register(n,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(s=>console.error(D(5604,!1)))})})}function $(t){return new Promise(n=>setTimeout(n,t))}function ne(t,n){return new h(t.enabled!==!1?navigator.serviceWorker:void 0,n)}var v=class{enabled;updateViaCache;type;scope;registrationStrategy};function Q(t,n={}){return R([ee,te,{provide:J,useValue:t},{provide:v,useValue:n},{provide:h,useFactory:ne,deps:[v,I]},A(re)])}j(Y,{providers:[{provide:x,useClass:K},z(),B(q,H(V)),L(),Q("ngsw-worker.js",{enabled:!W(),registrationStrategy:"registerWhenStable:30000"})]});
