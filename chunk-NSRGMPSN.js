import{a as gt}from"./chunk-QZBHQHTQ.js";import{$ as Le,A as Ce,Aa as tt,Ba as nt,Ca as it,D as O,Da as ot,Ea as rt,F as ve,Fa as at,G as we,Ga as lt,Ha as ct,I as Pe,Ia as st,Ja as dt,K as Me,Ka as pt,L as ke,La as mt,M as Oe,R as Se,T as Ie,U as Ee,X as Te,Y as He,Z as We,a as k,aa as ze,b as ie,ba as Ne,ca as Ve,d as oe,da as Be,e as re,ea as De,f as ae,fa as Fe,g as le,ga as je,h as ce,ha as qe,i as se,j as de,ja as Re,k as pe,ka as Ue,l as me,la as Ye,m as ge,n as ue,o as be,oa as Ge,q as fe,qa as Qe,s as xe,sa as Ae,t as _e,ta as Je,u as he,va as Ke,wa as Xe,x as ye,xa as Ze,ya as $e,za as et}from"./chunk-UURM3AX3.js";import{A as a,Aa as B,Bb as Z,C as h,Db as $,E as I,Eb as ee,Fb as te,Gb as ne,Ha as D,I as y,Ia as F,La as j,N as s,O as e,P as n,Q as _,U as C,V as v,W as p,ca as E,ea as o,eb as q,fa as T,ga as H,gb as R,ha as g,hb as U,ia as u,ib as Y,ja as b,jb as G,la as P,ma as M,nb as Q,qa as W,qb as A,ra as L,rb as J,sa as z,t as f,u as x,ua as N,ub as K,va as V,vb as X}from"./chunk-G3YV6V67.js";import"./chunk-VJC7EZAS.js";import"./chunk-4FZP3PRC.js";import"./chunk-3YVIQ775.js";import"./chunk-7KXLFOKO.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as S}from"./chunk-JHI3MBHO.js";function ut(c,d){if(c&1){let r=C();e(0,"div",24),v("click",function(){let i=f(r).$implicit,t=p(2);return x(t.selectIcon(i))}),_(1,"ion-icon",10),n()}if(c&2){let r=d.$implicit,l=p(2);E("selected",l.selectedIcon===r),a(),s("name",r)}}function bt(c,d){if(c&1&&(e(0,"div",21)(1,"div",22),y(2,ut,2,3,"div",23),n()()),c&2){let r=p();a(2),s("ngForOf",r.availableIcons)}}function ft(c,d){if(c&1){let r=C();e(0,"div")(1,"ion-item",14)(2,"ion-label",15),o(3,"Goal Frequency"),n(),e(4,"ion-select",25),b("ngModelChange",function(i){f(r);let t=p();return u(t.frequency,i)||(t.frequency=i),x(i)}),e(5,"ion-select-option",26),o(6,"Every Day"),n(),e(7,"ion-select-option",27),o(8,"Once a Week"),n(),e(9,"ion-select-option",28),o(10,"Weekdays Only"),n()()(),e(11,"ion-item",14)(12,"ion-label",15),o(13,"Loot Reward"),n(),e(14,"ion-select",29),b("ngModelChange",function(i){f(r);let t=p();return u(t.lootLevel,i)||(t.lootLevel=i),x(i)}),e(15,"ion-select-option",30),o(16,"Low Loot (Common)"),n(),e(17,"ion-select-option",31),o(18,"Medium Loot (Rare)"),n(),e(19,"ion-select-option",32),o(20,"High Loot (Legendary)"),n()()(),e(21,"div",33),_(22,"ion-icon",34),e(23,"p"),o(24),P(25,"titlecase"),n()()()}if(c&2){let r=p();a(4),g("ngModel",r.frequency),a(10),g("ngModel",r.lootLevel),a(7),s("ngClass",r.lootLevel),a(3),H("",M(25,4,r.lootLevel)," Reward")}}function xt(c,d){if(c&1){let r=C();e(0,"div")(1,"div",35),_(2,"ion-icon",36),e(3,"p"),o(4,"Random events will pop up unexpectedly based on your settings."),n()(),e(5,"ion-item",14)(6,"ion-label",15),o(7,"Occurrence (1-5)"),n(),e(8,"ion-input",37),b("ngModelChange",function(i){f(r);let t=p();return u(t.randomCount,i)||(t.randomCount=i),x(i)}),n()(),e(9,"ion-item",14)(10,"ion-label",15),o(11,"Timeframe"),n(),e(12,"ion-select",25),b("ngModelChange",function(i){f(r);let t=p();return u(t.randomPeriod,i)||(t.randomPeriod=i),x(i)}),e(13,"ion-select-option",38),o(14,"Per Day"),n(),e(15,"ion-select-option",39),o(16,"Per Week"),n()()()()}if(c&2){let r=p();a(8),g("ngModel",r.randomCount),a(4),g("ngModel",r.randomPeriod)}}var Tt=(()=>{let d=class d{constructor(l,i,t){this.habitService=l,this.router=i,this.toastCtrl=t,this.habitType="regular",this.habitName="",this.frequency="daily",this.lootLevel="low",this.randomCount="1",this.randomPeriod="day",this.availableIcons=["water","barbell","book","bed","bicycle","briefcase","game-controller","fast-food","musical-notes","paw","sunny","moon","alarm","cart","cafe","medkit","school","trash","skull","trophy","rocket","rose","fitness","flask","hammer","heart","hourglass","key","library","mail","map","mic","pencil","people","pizza","planet","restaurant","shapes","shirt","sparkles","star","storefront","terminal","thumbs-up","timer","tv","umbrella","videocam","walk","wallet","wifi","wine","accessibility","basket","beer","camera","car","chatbubble","clipboard","color-palette","desktop","fitness","game-controller","hammer","heart","hourglass","key","library","mail","map","mic","pencil","people","pizza","planet","restaurant","shapes","shirt","sparkles","star","storefront","terminal","thumbs-up","timer","tv","umbrella","videocam","walk","wallet","wifi","wine","gift","dice-outline","chevron-down-outline","chevron-up-outline"],this.selectedIcon="water",this.isIconPickerExpanded=!1,k({gift:ke,diceOutline:O}),k({water:dt,barbell:re,book:de,bed:le,bicycle:se,briefcase:pe,gameController:Me,fastFood:ve,musicalNotes:Ve,paw:Be,sunny:$e,moon:Ne,alarm:oe,cart:be,cafe:me,medkit:Le,school:Ge,trash:it,skull:Je,trophy:ot,rocket:Ue,rose:Ye,fitness:we,flask:Pe,hammer:Oe,heart:Se,hourglass:Ie,key:Ee,library:Te,mail:He,map:We,mic:ze,pencil:De,people:Fe,pizza:je,planet:qe,restaurant:Re,shapes:Qe,shirt:Ae,sparkles:Ke,star:Xe,storefront:Ze,terminal:et,thumbsUp:tt,timer:nt,tv:rt,umbrella:at,videocam:lt,walk:ct,wallet:st,wifi:pt,wine:mt,accessibility:ie,basket:ae,beer:ce,camera:ge,car:ue,chatbubble:fe,clipboard:he,colorPalette:ye,desktop:Ce,diceOutline:O,chevronDownOutline:xe,chevronUpOutline:_e})}saveHabit(){return S(this,null,function*(){let l="";this.habitType==="regular"?l=this.frequency:l=`${this.randomCount} times per ${this.randomPeriod}`;let i={id:Date.now().toString(),title:this.habitName,icon:this.selectedIcon,type:this.habitType,frequency:l,reward:this.lootLevel,completed:!1,streak:0,history:[]};this.habitService.addHabit(i),(yield this.toastCtrl.create({message:"Habit Created!",duration:1500,color:"success",position:"top"})).present(),this.router.navigate(["/tabs/dashboard"]),this.habitName=""})}toggleIconPicker(){this.isIconPickerExpanded=!this.isIconPickerExpanded}selectIcon(l){this.selectedIcon=l,this.isIconPickerExpanded=!1}};d.\u0275fac=function(i){return new(i||d)(h(gt),h(B),h(Z))},d.\u0275cmp=I({type:d,selectors:[["app-create-habit"]],decls:37,vars:13,consts:[[1,"ion-no-border",3,"translucent"],[1,"ion-padding",3,"fullscreen"],["mode","ios",1,"custom-segment",3,"ngModelChange","ngModel"],["value","regular"],["value","random"],[1,"form-container"],[1,"icon-picker-section"],[1,"section-label"],[1,"icon-trigger",3,"click"],[1,"selected-preview"],[3,"name"],[1,"trigger-text"],[1,"arrow-icon",3,"name"],["class","icon-grid-wrapper",4,"ngIf"],[1,"input-item"],["position","stacked"],["placeholder","e.g. Drink Water",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"ion-no-border"],[1,"ion-padding"],["expand","block","shape","round",3,"click","disabled"],[1,"icon-grid-wrapper"],[1,"icon-grid"],["class","icon-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"icon-option",3,"click"],["interface","popover",3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","weekdays"],["interface","action-sheet",3,"ngModelChange","ngModel"],["value","low"],["value","medium"],["value","high"],[1,"loot-preview",3,"ngClass"],["name","gift"],[1,"info-box"],["name","dice-outline"],["type","number","min","1","max","5","placeholder","e.g. 3",3,"ngModelChange","ngModel"],["value","day"],["value","week"]],template:function(i,t){i&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o(3,"New Quest"),n()()(),e(4,"ion-content",1)(5,"ion-segment",2),b("ngModelChange",function(m){return u(t.habitType,m)||(t.habitType=m),m}),e(6,"ion-segment-button",3)(7,"ion-label"),o(8,"Regular Habit"),n()(),e(9,"ion-segment-button",4)(10,"ion-label"),o(11,"Random Event"),n()()(),e(12,"div",5)(13,"div",6)(14,"ion-label",7),o(15,"Icon"),n(),e(16,"div",8),v("click",function(){return t.toggleIconPicker()}),e(17,"div",9),_(18,"ion-icon",10),n(),e(19,"div",11)(20,"span"),o(21),P(22,"titlecase"),n(),e(23,"p"),o(24,"Tap to change"),n()(),_(25,"ion-icon",12),n(),y(26,bt,3,1,"div",13),n(),e(27,"ion-item",14)(28,"ion-label",15),o(29,"Habit Name"),n(),e(30,"ion-input",16),b("ngModelChange",function(m){return u(t.habitName,m)||(t.habitName=m),m}),n()(),y(31,ft,26,6,"div",17)(32,xt,17,2,"div",17),n()(),e(33,"ion-footer",18)(34,"ion-toolbar",19)(35,"ion-button",20),v("click",function(){return t.saveHabit()}),o(36," Create Habit "),n()()()),i&2&&(s("translucent",!0),a(4),s("fullscreen",!0),a(),g("ngModel",t.habitType),a(13),s("name",t.selectedIcon),a(3),T(M(22,11,t.selectedIcon)),a(4),s("name",t.isIconPickerExpanded?"chevron-up-outline":"chevron-down-outline"),a(),s("ngIf",t.isIconPickerExpanded),a(4),g("ngModel",t.habitName),a(),s("ngIf",t.habitType==="regular"),a(),s("ngIf",t.habitType==="random"),a(3),s("disabled",!t.habitName))},dependencies:[V,W,L,z,j,D,F,Y,X,K,R,te,A,Q,G,ee,ne,J,q,U,$,N],styles:[".custom-segment[_ngcontent-%COMP%]{margin-bottom:20px;--background: #363636}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.input-item[_ngcontent-%COMP%]{--background: #363636;--border-radius: 12px;box-shadow:0 2px 8px #0000000d;margin-bottom:10px}.loot-preview[_ngcontent-%COMP%]{margin-top:20px;text-align:center;padding:20px;border-radius:16px;border:2px dashed #ccc;transition:all .3s ease}.loot-preview[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;margin-bottom:10px}.loot-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.loot-preview.low[_ngcontent-%COMP%]{background:#222;color:#666;border-color:#999}.loot-preview.medium[_ngcontent-%COMP%]{background:#222;color:#1976d2;border-color:#1976d2}.loot-preview.high[_ngcontent-%COMP%]{background:#222;color:#cb2dfb;border-color:#e32dfb}.info-box[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;padding:15px;border-radius:12px;display:flex;align-items:center;gap:15px;margin-bottom:20px}.info-box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.icon-picker-section[_ngcontent-%COMP%]{background:#3b3b3b;padding:15px;border-radius:12px;box-shadow:0 2px 8px #0000000d}.icon-picker-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:600;color:#666;font-size:12px;text-transform:uppercase;letter-spacing:1px}.icon-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}.icon-option[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:#575757;display:flex;align-items:center;justify-content:center;font-size:22px;color:#666;transition:all .2s ease;cursor:pointer}.icon-option.selected[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#919191;transform:scale(1.1);box-shadow:0 4px 10px rgba(var(--ion-color-primary-rgb),.4)}.icon-picker-section[_ngcontent-%COMP%]{background:#5a5a5a;padding:15px;border-radius:12px;box-shadow:0 2px 8px #0000000d;margin-bottom:20px}.icon-picker-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:600;color:#c3c3c3;font-size:11px;text-transform:uppercase;letter-spacing:1px}.icon-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:10px;background:#000;border-radius:12px;cursor:pointer;transition:background .2s}.icon-trigger[_ngcontent-%COMP%]:active{background:#f0f0f0}.icon-trigger[_ngcontent-%COMP%]   .selected-preview[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--ion-color-primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 10px rgba(var(--ion-color-primary-rgb),.3)}.icon-trigger[_ngcontent-%COMP%]   .trigger-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.icon-trigger[_ngcontent-%COMP%]   .trigger-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:var(--ion-color-dark)}.icon-trigger[_ngcontent-%COMP%]   .trigger-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:12px;color:#999}.icon-trigger[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#ccc;font-size:20px}.icon-grid-wrapper[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px dashed #eee;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.icon-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}.icon-option[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;font-size:20px;color:#666;cursor:pointer}.icon-option.selected[_ngcontent-%COMP%]{background:var(--ion-color-dark);color:#569dff;transform:scale(1.1)}"]});let c=d;return c})();export{Tt as CreateHabitPage};
