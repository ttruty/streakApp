import{a as gt}from"./chunk-5OXG4TMC.js";import{$ as Ee,A as xe,Aa as Qe,Ca as Xe,D as Ce,Da as Je,Ea as Ke,Fa as Ze,G as O,Ga as $e,Ha as et,I as ye,Ia as tt,J as ve,Ja as nt,Ka as it,La as ot,M as Pe,Ma as at,Na as rt,O as Me,Oa as lt,P as we,Pa as ct,Q as Oe,Qa as st,Ra as dt,Sa as pt,V as ke,X as Se,Y as Ie,a as w,aa as Te,b as ne,ba as He,d as ie,da as We,ea as Le,f as oe,fa as ze,g as ae,ga as Ne,h as re,ha as De,i as le,ia as Be,j as ce,ja as Ve,k as se,l as de,m as pe,ma as qe,n as ge,na as Fe,o as me,p as ue,pa as Re,qa as je,r as fe,ra as Ue,u as _e,va as Ye,w as be,x as he,xa as Ae,za as Ge}from"./chunk-R2QO6RYX.js";import{Aa as L,Ab as Q,C as o,Ca as z,Da as N,Db as X,E as C,Eb as J,G as S,Ia as D,K as y,Kb as K,Mb as Z,Nb as $,Ob as ee,P as p,Pa as B,Pb as te,Q as e,Qa as V,R as n,S as _,Ta as q,Z as v,_ as P,aa as g,ia as I,ka as i,la as M,mb as F,oa as m,ob as R,pa as u,pb as j,qa as f,qb as U,rb as Y,sa as E,t as h,ta as T,u as x,vb as A,ya as H,za as W,zb as G}from"./chunk-FBRAC5VV.js";import"./chunk-VJC7EZAS.js";import"./chunk-4FZP3PRC.js";import"./chunk-3YVIQ775.js";import"./chunk-7KXLFOKO.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as k}from"./chunk-JHI3MBHO.js";function mt(a,d){a&1&&_(0,"ion-icon",39)}function ut(a,d){a&1&&_(0,"ion-icon",40)}function ft(a,d){a&1&&_(0,"ion-icon",41)}function _t(a,d){if(a&1){let c=v();e(0,"div",45),P("click",function(){let r=h(c).$implicit,t=g(2);return x(t.selectIcon(r))}),_(1,"ion-icon",23),n()}if(a&2){let c=d.$implicit,s=g(2);I("selected",s.selectedIcon===c),o(),p("name",c)}}function bt(a,d){if(a&1&&(e(0,"div",42)(1,"div",43),y(2,_t,2,3,"div",44),n()()),a&2){let c=g();o(2),p("ngForOf",c.availableIcons)}}function ht(a,d){if(a&1){let c=v();e(0,"div",46)(1,"ion-item",6)(2,"ion-label",7),i(3,"Frequency"),n(),e(4,"ion-select",10),f("ngModelChange",function(r){h(c);let t=g();return u(t.frequency,r)||(t.frequency=r),x(r)}),e(5,"ion-select-option",47),i(6,"Daily"),n(),e(7,"ion-select-option",48),i(8,"Weekly"),n()()()()}if(a&2){let c=g();o(4),m("ngModel",c.frequency)}}function xt(a,d){if(a&1){let c=v();e(0,"div")(1,"div",49),_(2,"ion-icon",50),e(3,"p"),i(4,"Random events will pop up unexpectedly based on your settings."),n()(),e(5,"ion-item",6)(6,"ion-label",7),i(7,"Occurrence (1-5)"),n(),e(8,"ion-input",51),f("ngModelChange",function(r){h(c);let t=g();return u(t.randomCount,r)||(t.randomCount=r),x(r)}),n()(),e(9,"ion-item",6)(10,"ion-label",7),i(11,"Timeframe"),n(),e(12,"ion-select",10),f("ngModelChange",function(r){h(c);let t=g();return u(t.randomPeriod,r)||(t.randomPeriod=r),x(r)}),e(13,"ion-select-option",52),i(14,"Per Day"),n(),e(15,"ion-select-option",53),i(16,"Per Week"),n()()()()}if(a&2){let c=g();o(8),m("ngModel",c.randomCount),o(4),m("ngModel",c.randomPeriod)}}var Wt=(()=>{let d=class d{constructor(s,r,t){this.habitService=s,this.router=r,this.toastCtrl=t,this.habitType="regular",this.habitName="",this.frequency="daily",this.lootLevel="low",this.randomCount="1",this.randomPeriod="day",this.selectedStat="constitution",this.selectedDifficulty="medium",this.availableIcons=["water","barbell","book","bed","bicycle","briefcase","game-controller","fast-food","musical-notes","paw","sunny","moon","alarm","cart","cafe","medkit","school","trash","skull","trophy","rocket","rose","fitness","flask","hammer","heart","hourglass","key","library","mail","map","mic","pencil","people","pizza","planet","restaurant","shapes","shirt","sparkles","star","storefront","terminal","thumbs-up","timer","tv","umbrella","videocam","walk","wallet","wifi","wine","accessibility","basket","beer","camera","car","chatbubble","clipboard","color-palette","desktop","fitness","game-controller","hammer","heart","hourglass","key","library","mail","map","mic","pencil","people","pizza","planet","restaurant","shapes","shirt","sparkles","star","storefront","terminal","thumbs-up","timer","tv","umbrella","videocam","walk","wallet","wifi","wine","gift","dice-outline","chevron-down-outline","chevron-up-outline","flash"],this.selectedIcon="water",this.isIconPickerExpanded=!1,w({gift:we,diceOutline:O}),w({water:st,barbell:oe,book:se,bed:re,bicycle:ce,briefcase:de,gameController:Me,fastFood:ye,musicalNotes:Ne,paw:De,sunny:Ze,moon:ze,alarm:ie,cart:ue,cafe:pe,medkit:We,school:Ye,trash:nt,skull:Qe,trophy:it,rocket:je,rose:Ue,fitness:ve,flask:Pe,hammer:Oe,heart:ke,hourglass:Se,key:Ie,library:Ee,mail:Te,map:He,mic:Le,pencil:Be,people:Ve,pizza:qe,planet:Fe,restaurant:Re,shapes:Ae,shirt:Ge,sparkles:Xe,star:Je,storefront:Ke,terminal:$e,thumbsUp:et,timer:tt,tv:ot,umbrella:at,videocam:rt,walk:lt,wallet:ct,wifi:dt,wine:pt,accessibility:ne,basket:ae,beer:le,camera:ge,car:me,chatbubble:fe,clipboard:he,colorPalette:xe,desktop:Ce,diceOutline:O,chevronDownOutline:_e,chevronUpOutline:be})}saveHabit(){return k(this,null,function*(){let s="";this.habitType==="regular"?s=this.frequency:s=`${this.randomCount} times per ${this.randomPeriod}`,this.newHabit={id:Date.now().toString(),title:this.habitName,associatedStat:this.selectedStat,difficulty:this.selectedDifficulty,icon:this.selectedIcon,type:this.habitType,frequency:s,reward:this.lootLevel,completed:!1,streak:0,history:[]},this.habitService.addHabit(this.newHabit),(yield this.toastCtrl.create({message:"Habit Created!",duration:1500,color:"success",position:"top"})).present(),this.router.navigate(["/tabs/dashboard"]),this.habitName=""})}toggleIconPicker(){this.isIconPickerExpanded=!this.isIconPickerExpanded}selectIcon(s){this.selectedIcon=s,this.isIconPickerExpanded=!1}};d.\u0275fac=function(r){return new(r||d)(C(gt),C(D),C(K))},d.\u0275cmp=S({type:d,selectors:[["app-create-habit"]],decls:74,vars:20,consts:[[1,"ion-no-border",3,"translucent"],[1,"ion-padding",3,"fullscreen"],["mode","ios",1,"custom-segment",3,"ngModelChange","ngModel"],["value","regular"],["value","random"],[1,"form-container"],[1,"input-item"],["position","stacked"],["placeholder","e.g. Slay the Dragon",3,"ngModelChange","ngModel"],[1,"split-row"],["interface","popover",3,"ngModelChange","ngModel"],["value","strength"],["value","intelligence"],["value","constitution"],["value","dexterity"],["value","charisma"],["value","easy"],["value","medium"],["value","hard"],[1,"visual-row"],[1,"visual-card",3,"click"],[1,"label"],[1,"visual-content"],[3,"name"],[1,"value-text"],[1,"visual-card","relative-card"],["interface","action-sheet",1,"overlay-select",3,"ngModelChange","ngModel"],["value","low"],["value","high"],[1,"visual-content",3,"ngClass"],["name","gift",4,"ngIf"],["name","sparkles",4,"ngIf"],["name","trophy",4,"ngIf"],["class","icon-grid-wrapper",4,"ngIf"],["class","frequency-section",4,"ngIf"],[4,"ngIf"],[1,"ion-no-border"],[1,"ion-padding"],["expand","block","shape","round",3,"click","disabled"],["name","gift"],["name","sparkles"],["name","trophy"],[1,"icon-grid-wrapper"],[1,"icon-grid"],["class","icon-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"icon-option",3,"click"],[1,"frequency-section"],["value","daily"],["value","weekly"],[1,"info-box"],["name","dice-outline"],["type","number","min","1","max","5","placeholder","e.g. 3",3,"ngModelChange","ngModel"],["value","day"],["value","week"]],template:function(r,t){r&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),i(3,"New Quest"),n()()(),e(4,"ion-content",1)(5,"ion-segment",2),f("ngModelChange",function(l){return u(t.habitType,l)||(t.habitType=l),l}),e(6,"ion-segment-button",3)(7,"ion-label"),i(8,"Regular Habit"),n()(),e(9,"ion-segment-button",4)(10,"ion-label"),i(11,"Random Event"),n()()(),e(12,"div",5)(13,"ion-item",6)(14,"ion-label",7),i(15,"Quest Title"),n(),e(16,"ion-input",8),f("ngModelChange",function(l){return u(t.habitName,l)||(t.habitName=l),l}),n()(),e(17,"div",9)(18,"ion-item",6)(19,"ion-label",7),i(20,"Stat"),n(),e(21,"ion-select",10),f("ngModelChange",function(l){return u(t.selectedStat,l)||(t.selectedStat=l),l}),e(22,"ion-select-option",11),i(23,"STRENGTH"),n(),e(24,"ion-select-option",12),i(25,"INTELLIGENCE"),n(),e(26,"ion-select-option",13),i(27,"CONSTITUTION"),n(),e(28,"ion-select-option",14),i(29,"DEXTERITY"),n(),e(30,"ion-select-option",15),i(31,"CHARISMA"),n()()(),e(32,"ion-item",6)(33,"ion-label",7),i(34,"Difficulty"),n(),e(35,"ion-select",10),f("ngModelChange",function(l){return u(t.selectedDifficulty,l)||(t.selectedDifficulty=l),l}),e(36,"ion-select-option",16),i(37,"Easy"),n(),e(38,"ion-select-option",17),i(39,"Medium"),n(),e(40,"ion-select-option",18),i(41,"Hard"),n()()()(),e(42,"div",19)(43,"div",20),P("click",function(){return t.toggleIconPicker()}),e(44,"span",21),i(45,"Icon"),n(),e(46,"div",22),_(47,"ion-icon",23),e(48,"span",24),i(49),n()()(),e(50,"div",25)(51,"span",21),i(52,"Reward"),n(),e(53,"ion-select",26),f("ngModelChange",function(l){return u(t.lootLevel,l)||(t.lootLevel=l),l}),e(54,"ion-select-option",27),i(55,"Low (Common)"),n(),e(56,"ion-select-option",17),i(57,"Medium (Rare)"),n(),e(58,"ion-select-option",28),i(59,"High (Legendary)"),n()(),e(60,"div",29),y(61,mt,1,0,"ion-icon",30)(62,ut,1,0,"ion-icon",31)(63,ft,1,0,"ion-icon",32),e(64,"span",24),i(65),E(66,"titlecase"),n()()()(),y(67,bt,3,1,"div",33)(68,ht,9,1,"div",34)(69,xt,17,2,"div",35),n()(),e(70,"ion-footer",36)(71,"ion-toolbar",37)(72,"ion-button",38),P("click",function(){return t.saveHabit()}),i(73," Create Habit "),n()()()),r&2&&(p("translucent",!0),o(4),p("fullscreen",!0),o(),m("ngModel",t.habitType),o(11),m("ngModel",t.habitName),o(5),m("ngModel",t.selectedStat),o(14),m("ngModel",t.selectedDifficulty),o(12),p("name",t.selectedIcon),o(2),M(t.selectedIcon),o(4),m("ngModel",t.lootLevel),o(7),p("ngClass",t.lootLevel),o(),p("ngIf",t.lootLevel==="low"),o(),p("ngIf",t.lootLevel==="medium"),o(),p("ngIf",t.lootLevel==="high"),o(2),M(T(66,18,t.lootLevel)),o(2),p("ngIf",t.isIconPickerExpanded),o(),p("ngIf",t.habitType==="regular"),o(),p("ngIf",t.habitType==="random"),o(3),p("disabled",!t.habitName))},dependencies:[N,H,W,L,q,B,V,U,J,X,R,ee,G,A,Y,$,te,Q,F,j,Z,z],styles:[".split-row[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px}.split-row[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{flex:1;--border-radius: 12px;--background: #3b3b3b}.visual-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}.visual-card[_ngcontent-%COMP%]{background:#363636;border-radius:12px;padding:12px;display:flex;flex-direction:column;position:relative;border:2px solid transparent;transition:.2s}.visual-card[_ngcontent-%COMP%]:active{background:#e0e0e0}.visual-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;color:#fff;font-weight:700;margin-bottom:8px}.visual-card[_ngcontent-%COMP%]   .visual-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.visual-card[_ngcontent-%COMP%]   .visual-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#fff}.visual-card[_ngcontent-%COMP%]   .visual-content[_ngcontent-%COMP%]   .value-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#e6e6e6;text-transform:capitalize}.visual-card[_ngcontent-%COMP%]   .visual-content.low[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#78909c}.visual-card[_ngcontent-%COMP%]   .visual-content.medium[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#1e88e5}.visual-card[_ngcontent-%COMP%]   .visual-content.high[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#ffab00}.overlay-select[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:10}.icon-grid-wrapper[_ngcontent-%COMP%]{background:#f4f5f8;border-radius:12px;padding:10px;margin-bottom:15px;max-height:200px;overflow-y:auto}.custom-segment[_ngcontent-%COMP%]{margin-bottom:20px;--background: #363636}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.input-item[_ngcontent-%COMP%]{--background: #363636;--border-radius: 12px;box-shadow:0 2px 8px #0000000d;margin-bottom:10px}.loot-preview[_ngcontent-%COMP%]{margin-top:20px;text-align:center;padding:20px;border-radius:16px;border:2px dashed #ccc;transition:all .3s ease}.loot-preview[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;margin-bottom:10px}.loot-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.loot-preview.low[_ngcontent-%COMP%]{background:#222;color:#666;border-color:#999}.loot-preview.medium[_ngcontent-%COMP%]{background:#222;color:#1976d2;border-color:#1976d2}.loot-preview.high[_ngcontent-%COMP%]{background:#222;color:#cb2dfb;border-color:#e32dfb}.info-box[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;padding:15px;border-radius:12px;display:flex;align-items:center;gap:15px;margin-bottom:20px}.info-box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.icon-picker-section[_ngcontent-%COMP%]{background:#3b3b3b;padding:15px;border-radius:12px;box-shadow:0 2px 8px #0000000d}.icon-picker-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:600;color:#666;font-size:12px;text-transform:uppercase;letter-spacing:1px}.icon-picker-section[_ngcontent-%COMP%]{background:#5a5a5a;padding:15px;border-radius:12px;box-shadow:0 2px 8px #0000000d;margin-bottom:20px}.icon-picker-section[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:600;color:#c3c3c3;font-size:11px;text-transform:uppercase;letter-spacing:1px}.icon-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:10px;background:#000;border-radius:12px;cursor:pointer;transition:background .2s}.icon-trigger[_ngcontent-%COMP%]:active{background:#f0f0f0}.icon-trigger[_ngcontent-%COMP%]   .selected-preview[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:var(--ion-color-primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 10px rgba(var(--ion-color-primary-rgb),.3)}.icon-trigger[_ngcontent-%COMP%]   .trigger-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.icon-trigger[_ngcontent-%COMP%]   .trigger-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:var(--ion-color-dark)}.icon-trigger[_ngcontent-%COMP%]   .trigger-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;font-size:12px;color:#999}.icon-trigger[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#ccc;font-size:20px}.icon-grid-wrapper[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px dashed #eee;animation:_ngcontent-%COMP%_slideDown .2s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.icon-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}.icon-option[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;background:#f0f0f0;display:flex;align-items:center;justify-content:center;font-size:20px;color:#666;cursor:pointer}.icon-option.selected[_ngcontent-%COMP%]{background:var(--ion-color-dark);color:#569dff;transform:scale(1.1)}"]});let a=d;return a})();export{Wt as CreateHabitPage};
