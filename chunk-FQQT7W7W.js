import{a as D}from"./chunk-TK5GOJ4F.js";import{a as F,r as $}from"./chunk-ZEMLE2UI.js";import{A as n,C as h,Db as V,E as b,Fb as j,I as m,N as l,O as r,P as i,Q as g,U as P,V as M,W as d,ca as O,ea as a,fa as x,fb as w,ga as f,ha as v,hb as S,jb as E,rb as T,sa as y,t as u,ta as I,u as C,wa as k,wb as z,xb as X}from"./chunk-K64DFS7A.js";import"./chunk-VJC7EZAS.js";import"./chunk-4FZP3PRC.js";import"./chunk-3YVIQ775.js";import"./chunk-7KXLFOKO.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as _}from"./chunk-JHI3MBHO.js";function R(t,o){if(t&1&&(r(0,"div",17),a(1),i()),t&2){let e=d().$implicit;n(),f("+",e.xpReward," XP")}}function A(t,o){t&1&&g(0,"ion-icon",18)}function B(t,o){if(t&1&&(r(0,"div",19),g(1,"ion-progress-bar",20),r(2,"span",21),a(3),i()()),t&2){let e=d().$implicit;n(),l("value",e.currentValue/e.targetValue)("color",e.completed?"success":"primary"),n(2),v("",e.currentValue," / ",e.targetValue)}}function L(t,o){if(t&1){let e=P();r(0,"ion-button",22),M("click",function(){u(e);let c=d().$implicit,s=d();return C(s.claim(c))}),a(1," Claim Reward "),i()}}function N(t,o){if(t&1&&(r(0,"div",10)(1,"div",11)(2,"div",12)(3,"h4"),a(4),i(),r(5,"p"),a(6),i()(),m(7,R,2,1,"div",13)(8,A,1,0,"ion-icon",14),i(),m(9,B,4,4,"div",15)(10,L,2,0,"ion-button",16),i()),t&2){let e=o.$implicit;O("completed",e.completed),n(4),x(e.title),n(2),x(e.description),n(),l("ngIf",!e.claimed),n(),l("ngIf",e.claimed),n(),l("ngIf",!e.claimed),n(),l("ngIf",e.completed&&!e.claimed)}}var Y=(()=>{let o=class o{constructor(p,c){this.charService=p,this.toastCtrl=c,this.state={level:1,currentXp:0,maxXp:100},this.achievements=[],F({checkmarkCircle:$})}ngOnInit(){this.refresh()}ionViewDidEnter(){this.refresh()}refresh(){this.charService.state&&(this.state=this.charService.state,this.achievements=this.charService.achievements)}claim(p){return _(this,null,function*(){let c=this.charService.claimAchievement(p.id);(yield this.toastCtrl.create({message:`Claimed ${c} XP! Level up progress!`,duration:2e3,color:"tertiary",position:"top"})).present(),this.refresh()})}};o.\u0275fac=function(c){return new(c||o)(h(D),h(V))},o.\u0275cmp=b({type:o,selectors:[["app-character"]],decls:20,vars:7,consts:[[1,"ion-no-border",3,"translucent"],[3,"fullscreen"],[1,"hero-section"],[1,"level-circle"],[1,"lvl-label"],[1,"xp-container"],[1,"xp-text"],["color","tertiary",3,"value"],[1,"achievements-section"],["class","ach-card",3,"completed",4,"ngFor","ngForOf"],[1,"ach-card"],[1,"ach-header"],[1,"ach-info"],["class","xp-badge",4,"ngIf"],["name","checkmark-circle","color","success",4,"ngIf"],["class","ach-progress",4,"ngIf"],["expand","block","color","success","size","small",3,"click",4,"ngIf"],[1,"xp-badge"],["name","checkmark-circle","color","success"],[1,"ach-progress"],[3,"value","color"],[1,"progress-text"],["expand","block","color","success","size","small",3,"click"]],template:function(c,s){c&1&&(r(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),a(3,"My Raider"),i()()(),r(4,"ion-content",1)(5,"div",2)(6,"div",3)(7,"span",4),a(8),i()(),r(9,"div",5)(10,"div",6)(11,"span"),a(12,"XP"),i(),r(13,"span"),a(14),i()(),g(15,"ion-progress-bar",7),i()(),r(16,"div",8)(17,"h3"),a(18,"Achievements"),i(),m(19,N,11,8,"div",9),i()()),c&2&&(l("translucent",!0),n(4),l("fullscreen",!0),n(4),f("Level ",s.state.level),n(6),v("",s.state.currentXp," / ",s.state.maxXp),n(),l("value",s.state.currentXp/s.state.maxXp),n(4),l("ngForOf",s.achievements))},dependencies:[k,y,I,E,X,z,S,T,j,w],styles:[".hero-section[_ngcontent-%COMP%]{background:#222;color:#fff;padding:40px 20px;display:flex;flex-direction:column;align-items:center;border-bottom-left-radius:30px;border-bottom-right-radius:30px;box-shadow:0 5px 20px #0003}.level-circle[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border:4px solid var(--ion-color-tertiary);display:flex;flex-direction:column;align-items:center;justify-content:center;background:#333;margin-bottom:20px}.level-circle[_ngcontent-%COMP%]   .lvl-label[_ngcontent-%COMP%]{font-size:12px;color:#aaa;letter-spacing:2px}.level-circle[_ngcontent-%COMP%]   .lvl-num[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:#fff;line-height:1}.xp-container[_ngcontent-%COMP%]{width:100%;max-width:300px}.xp-container[_ngcontent-%COMP%]   .xp-text[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;margin-bottom:5px;color:#ccc}.xp-container[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{height:8px;border-radius:4px;--background: #444}.achievements-section[_ngcontent-%COMP%]{padding:20px}.achievements-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:15px;color:#444}.ach-card[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:12px;box-shadow:0 4px 10px #0000000d;margin-bottom:15px;border:1px solid #eee}.ach-card.completed[_ngcontent-%COMP%]{border-color:var(--ion-color-success);background:#f0fdf4}.ach-card[_ngcontent-%COMP%]   .ach-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}.ach-card[_ngcontent-%COMP%]   .ach-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px;font-weight:700}.ach-card[_ngcontent-%COMP%]   .ach-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#666}.ach-card[_ngcontent-%COMP%]   .xp-badge[_ngcontent-%COMP%]{background:var(--ion-color-tertiary);color:#fff;font-size:10px;font-weight:700;padding:3px 8px;border-radius:10px}.ach-card[_ngcontent-%COMP%]   .ach-progress[_ngcontent-%COMP%]{margin-top:10px}.ach-card[_ngcontent-%COMP%]   .ach-progress[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{height:6px;border-radius:3px}.ach-card[_ngcontent-%COMP%]   .ach-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{display:block;text-align:right;font-size:11px;color:#888;margin-top:4px}"]});let t=o;return t})();export{Y as CharacterPage};
