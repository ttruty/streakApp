import{E as F,H as W,a as T,r as j,w as z}from"./chunk-MDAS65HY.js";import{A as c,Ab as b,C as x,E as v,Fa as P,I as u,Ib as E,N as s,O as o,P as a,Q as d,fa as S,ha as l,ia as f,ib as C,kb as D,m as k,mb as M,va as _,wa as O,za as w,zb as I}from"./chunk-33AMBPXS.js";import"./chunk-VJC7EZAS.js";import"./chunk-4FZP3PRC.js";import"./chunk-3YVIQ775.js";import"./chunk-7KXLFOKO.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XO2KZLEH.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var A=(()=>{let t=class t{constructor(){this.STORAGE_KEY="user_streak_data"}checkIn(){let n=new Date().toDateString(),e=this.getData();if(e.lastVisit===n)return e.currentStreak;let r=new Date;return r.setDate(r.getDate()-1),e.lastVisit===r.toDateString()?e.currentStreak++:e.currentStreak=1,e.lastVisit=n,e.history.includes(n)||e.history.push(n),this.saveData(e),e.currentStreak}getCurrentWeekProgress(){let n=this.getData(),e=new Date,r=[],h=new Date(e.setDate(e.getDate()-e.getDay())),R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let g=0;g<7;g++){let y=new Date(h);y.setDate(h.getDate()+g);let p=y.toDateString();r.push({name:R[g],dateStr:p,visited:n.history.includes(p),isToday:p===new Date().toDateString()})}return r}getData(){let n=localStorage.getItem(this.STORAGE_KEY);return n?JSON.parse(n):{currentStreak:0,lastVisit:null,history:[]}}saveData(n){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n))}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function K(i,t){i&1&&d(0,"ion-icon",17)}function N(i,t){i&1&&d(0,"ion-icon",18)}function Y(i,t){if(i&1&&(o(0,"div",12)(1,"span",13),l(2),a(),o(3,"div",14),u(4,K,1,0,"ion-icon",15)(5,N,1,0,"ion-icon",16),a()()),i&2){let m=t.$implicit;S("today",m.isToday),c(2),f(m.name),c(2),s("ngIf",m.visited),c(),s("ngIf",!m.visited)}}var Q=(()=>{let t=class t{constructor(n){this.streakService=n,this.currentStreak=0,this.weekProgress=[],T({flame:W,checkmarkCircle:j,ellipseOutline:F,closeCircleOutline:z})}ionViewWillEnter(){this.currentStreak=this.streakService.checkIn(),this.weekProgress=this.streakService.getCurrentWeekProgress()}};t.\u0275fac=function(e){return new(e||t)(x(A))},t.\u0275cmp=v({type:t,selectors:[["app-home"]],decls:21,vars:4,consts:[[1,"ion-no-border",3,"translucent"],[1,"ion-padding",3,"fullscreen"],[1,"close-container"],["routerLink","/tabs/dashboard","fill","clear","size","large"],["name","close-circle-outline"],[1,"container"],[1,"streak-circle-container"],[1,"streak-circle"],["name","flame","color","warning"],[1,"week-container"],[1,"week-grid"],["class","day-column",3,"today",4,"ngFor","ngForOf"],[1,"day-column"],[1,"day-label"],[1,"status-icon"],["name","checkmark-circle","color","success",4,"ngIf"],["name","ellipse-outline","color","medium",4,"ngIf"],["name","checkmark-circle","color","success"],["name","ellipse-outline","color","medium"]],template:function(e,r){e&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),l(3,"Daily Tracker"),a()()(),o(4,"ion-content",1)(5,"div",2)(6,"ion-button",3),d(7,"ion-icon",4),a()(),o(8,"div",5)(9,"div",6)(10,"div",7),d(11,"ion-icon",8),o(12,"h1"),l(13),a(),o(14,"p"),l(15,"DAY STREAK"),a()()(),o(16,"div",9)(17,"h3"),l(18,"This Week"),a(),o(19,"div",10),u(20,Y,6,5,"div",11),a()()()()),e&2&&(s("translucent",!0),c(4),s("fullscreen",!0),c(9),f(r.currentStreak),c(7),s("ngForOf",r.weekProgress))},dependencies:[w,_,O,P,M,b,I,D,E,C],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:40px}.streak-circle-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.streak-circle[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;background:var(--ion-color-light);box-shadow:0 4px 15px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:center;border:4px solid var(--ion-color-warning)}.streak-circle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:40px;margin-bottom:-10px}.streak-circle[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px;font-weight:800;margin:0;color:var(--ion-text-color)}.streak-circle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;letter-spacing:2px;margin:0;color:var(--ion-color-medium);font-weight:700}.week-container[_ngcontent-%COMP%]{width:100%;background:var(--ion-color-white);border-radius:16px;padding:20px;box-shadow:0 2px 10px #0000000d}.week-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-top:0;font-size:18px;margin-bottom:20px;font-weight:600}.week-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.day-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.day-column[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);font-weight:600}.day-column[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.day-column.today[_ngcontent-%COMP%]   .day-label[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]});let i=t;return i})();export{Q as HomePage};
