/* Host must fill the parent */
:host {
  display: block;
  height: 100%;
  width: 100%;
}

.customizer-layout {
  display: flex;
  flex-direction: column;
  height: 100%; /* Fill the :host */
  background: #222;
}

/* --- TOP SECTION (3D) --- */
.scene-area {
  flex: 1; /* Takes up all remaining space */
  position: relative;
  min-height: 0; /* Important for flex containers */
  background: radial-gradient(circle, #333 0%, #111 100%);
}

.canvas-wrapper {
  width: 100%;
  height: 100%;

  canvas {
    width: 100%;
    height: 100%;
    display: block;
  }
}

.scene-overlay {
  position: absolute;
  bottom: 40px;      /* Distance from top */
  width: 100%;
  z-index: 100;   /* <--- Make sure this is high! */
  /* Optional: Add a slight shadow to make it pop against the 3D bg */
  ion-button {
    --box-shadow: 0 4px 10px rgba(0,0,0,0.5);
  }
}

.loading-overlay {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  pointer-events: none;
}

/* --- BOTTOM SECTION (Controls) --- */
.controls-area {
  height: 350px; /* Fixed height for controls */
  background: #1a1a1a;
  border-top: 1px solid #333;
  display: flex;
  flex-direction: column;
  flex-shrink: 0; /* Prevent crushing */
}

/* ... Keep your existing category-bar and options-scroller styles ... */
.category-bar {
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  background: #111;

  .category-item {
    /* ... existing styles ... */
    display: flex; flex-direction: column; align-items: center; color: #666;
    ion-icon { font-size: 24px; margin-bottom: 4px; }
    &.active { color: #3880ff; }
  }
}

.options-scroller {
  /* ... existing styles ... */
  flex: 1;
  display: flex;
  overflow-x: auto;
  padding: 15px;
  gap: 15px;
  align-items: center;

  .option-card {
    /* ... existing styles ... */
    min-width: 80px; display: flex; flex-direction: column; align-items: center;
    .option-thumb { width: 70px; height: 70px; border-radius: 10px; background: #333; object-fit: cover; }
    &.selected { opacity: 1; .option-thumb { border: 2px solid #3880ff; } }
  }
}
